import{r as c,j as t,G as j,c as v}from"./GlassCard-BMBPpFOK.js";const b=()=>{const[a,o]=c.useState(!1),n=c.useRef(null),h=e=>{e.preventDefault(),e.stopPropagation(),o(!0)},x=e=>{e.preventDefault(),e.stopPropagation(),o(!1)},m=e=>{e.preventDefault(),e.stopPropagation()},f=e=>{e.preventDefault(),e.stopPropagation(),o(!1);const r=e.dataTransfer.files;r&&r.length>0&&l(r[0])},g=e=>{const r=e.target.files;r&&r.length>0&&l(r[0])},l=e=>{if(!e.type.startsWith("image/")){alert("Please drop an image file");return}const r=new FileReader;r.onload=u=>{var i;const p=(i=u.target)==null?void 0:i.result;chrome.runtime.sendMessage({type:"TRIGGER_SCAN_FROM_POPUP",url:p},s=>{chrome.runtime.lastError?(console.error("Failed to trigger scan:",chrome.runtime.lastError),alert("Failed to trigger scan: "+chrome.runtime.lastError.message)):s&&!s.success?(console.error("Scan trigger error:",s.error),alert("Scan failed: "+s.error)):window.close()})},r.readAsDataURL(e)};return t.jsx("div",{className:"w-[320px] h-auto min-h-[300px] flex flex-col bg-[#0d1117] bg-gradient-to-b from-[#1a1c22] to-[#0d1117] text-white p-4",children:t.jsxs(j,{className:"flex-1 relative flex flex-col p-4 pt-4",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500/30 to-purple-500/30 flex items-center justify-center border border-white/10",children:t.jsxs("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),t.jsx("div",{className:"flex flex-col justify-center",children:t.jsx("h2",{className:"text-lg font-semibold leading-tight m-0",children:"UnDiffused"})})]}),t.jsxs("div",{className:`flex-1 flex flex-col items-center justify-center border-2 border-dashed rounded-xl transition-colors duration-200 cursor-pointer relative
                        ${a?"border-blue-500 bg-blue-500/10":"border-white/20 hover:border-white/40 hover:bg-white/5"}
                    `,onDragEnter:h,onDragLeave:x,onDragOver:m,onDrop:f,onClick:()=>{var e;return(e=n.current)==null?void 0:e.click()},children:[t.jsx("input",{type:"file",ref:n,className:"hidden",accept:"image/*",onChange:g}),t.jsx("div",{className:"w-16 h-16 rounded-full bg-white/10 flex items-center justify-center mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-white/70",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t.jsx("p",{className:"text-sm text-center text-white/80 font-medium",children:"Drop image here"}),t.jsx("p",{className:"text-xs text-center text-white/50 mt-1",children:"or click to browse"})]}),t.jsx("p",{className:"text-xs text-center text-white/30 mt-4",children:"Image will be analyzed in the active tab"})]})})},d=document.getElementById("root");d&&v.createRoot(d).render(t.jsx(b,{}));
